游戏引擎通常由【工具套件】和【运行时组件】两部分组成。   

**1.6.1 目标硬件**
略。

**1.6.2 设备驱动程序**
设备驱动程序（device drive）是由操作系统或硬件厂商提供的最低阶软件组件。
负责管理硬件资源，同时也隔离了操作系统及上层引擎，使得上层的软件无需理解不同硬件版本的通信细节差异。

**1.6.3 操作系统**
操作系统协调一个计算机多个程序的执行，其中一个程序可能是游戏。
在游戏主机上，游戏通常拥有整台机器。

**1.6.4 第三方软件开发包和中间件**
大部分游戏引擎都会借用第三方软件开发包（software development kit, SDK）及中间件（middleware）。
SDK提供基于函数/类的接口，一般称为应用程序接口（application programming interfacce, API）。
以下会介绍几个例子：
1.6.4.1 数据结构与算法
游戏开发者可以分作两类：在游戏引擎中使用STL模板库的，以及不使用的。
1.6.4.2 图形SDK
图形SDK提供API，能够让程序员通过API调用GPU，实现图形的绘制。
1.6.4.3 碰撞和物理
1.6.4.4 角色动画
1.6.4.5 AI
......

**1.6.5 平台独立层**
平台独立层在硬件、驱动程序、操作系统以及第三方软件之上，对上层层完成隔离。
- 平台检测
- 原子数据类型
- 集合及迭代器
- 文件系统
- 网络传输层（UDP/TCP）
- 高分辨率时钟
- 线程库
- 图形包裹类
- 物理/碰撞检测类

平台独立层包装了常用的标准C语言库、操作系统调用和其他基础API，确保包装了的接口在所有硬件平台上均为一致。

**1.6.6 核心层**
核心层主要是Utility层，常见功能包括：
- 断言（Assertion，会被插入代码中，检查逻辑错误，或者与程序员原先假设不符的错误）
- 内存分配
- 数学库
- 自定义数据结构及算法

**1.6.7 资源层**
每个游戏引擎都有某种形式的资源管理器，提供一个或一组统一接口，去访问任何类型的游戏资产及其他引擎输入数据。
- 资源管理器
	- 三维模型资产
	- 纹理资产
	- 材质资产
	- 字体资源
	- 骨骼资源
	- 碰撞资源
	- 物理参数
	- 游戏世界及地图

**1.6.8 渲染引擎**
任何游戏引擎中，渲染引擎都是最大及最复杂的组件之一。
大多数现代渲染引擎都有一些基本的设计哲学，这些哲学大部分是由底层三维图形硬件驱动形成的。
现代渲染引擎的设计通常采用分层架构。
**1.6.8.1 低阶渲染器**
低阶渲染引擎包含引擎中全部原始的渲染功能。不太考虑场景中的可见性和相互关系。
- 图形设备接口
- 其他渲染组件：材质及着色器、静态/动态光源、相机、几何图元提交、视区及虚拟屏幕、纹理及表面管理、调试绘图、文本及字体
其他渲染组件一起工作，目的是搜集需要提交的几何图元，并将这些图元尽快渲染。
低阶渲染器从提供视区（viewport）抽象开始，每个视区将相机结合至世界矩阵（camera-to-world matrix）及三维投影参数，如视野（FOV）、近远剪切平面（near and far clipping plane）的位置等。
**1.6.8.2 场景图/剔除优化**
直接使用低阶渲染器会绘制所有被提交的图元，不太考虑那些图形是否确实为可见的。除非使用背面剔除（back-face culling）和平截头剔除（frustrum culling）。一般需要较高层级的组件，才能基于某些可视性判别算法去限制提交的图元数量，如：
- 空间划分算法（BSP树，KD树……）
- 遮挡及潜在可见集
- 细致程度系统
非常小的游戏世界可能只需要